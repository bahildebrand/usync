# Filename: renode-config.resc
$bin?=@target/thumbv7em-none-eabihf/debug/examples/uart_timer

# Create Machine & Load config
mach create
machine LoadPlatformDescription @platforms/boards/stm32f4_discovery-kit.repl
machine LoadPlatformDescription @renode/add-ccm.repl

showAnalyzer sysbus.uart2

macro reset
"""
    sysbus LoadELF $bin
    start
"""

runMacro $reset